<<<<<<< HEAD
<div class="home-header">
  <header class="header">
      <h2 class="typo__bold typo__large">Tweet detail</h2>
  </header>
</div>
<div class="tweet__container">
      <div class="tweet__image">
        <%= image_tag 'default.png', class:'image__circle image__small' %>
      </div>
      <div class="tweet__content">
        <div class="tweet__head">
          <div class="typo__medium typo__bold color-main"><%= @tweet.user.name %></div>
          <div class="typo__medium typo__regular color-alter">@<%= @tweet.user.username %></div>
          <div class="typo__small typo__regular color-alter"><%= @tweet.user.created_at %></div>
        </div>
        <%= link_to tweet_path(@tweet) do %>
          <p><%= @tweet.body %></p>
          <div class="tweet__icons">
            <div class="tweet__icons-right">
              <%= image_tag 'retweet.svg' %>
              <span><%= @tweet.replies.size %></span>
              <%= image_tag 'like.svg' %>
            </div>
        <% end %>
          <% if current_user %>
            <div class="tweet__icons-left">
              <%= link_to edit_tweet_path(@tweet) do%>
                <%= image_tag 'edit.svg' %>
              <% end %>
              <%= link_to tweet_path(@tweet), method: :delete, data: { confirm: "Are you sure you want to delete this tweet?" } do %>
                <%= image_tag 'delete.svg' %>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  <% if current_user %>


    <%= form_with model: [@reply] do |form| %>
      <div class="tweet__container">
        <div class="tweet__image">
          <%= image_tag 'default.png', class:'image__circle image__small' %>
        </div>
        <div class="form__tweet">
          <%= form.hidden_field :replied_to_id, value: @reply.replied_to_id%>
          <%= form.text_area :body, class: "tweet_area", placeholder: "Tweet your reply" %>
          <%= form.submit value: "Tweet", class: "button__primary button__medium typo_medium" %>
        </div>
      </div>
    <% end %>


=======
<h1>Tweet Detail</h1>
<%= @tweet.body %>
<%= @tweet.user.name %>
<span>@<%= @tweet.user.username %></span>
<% if current_user %>
  <%= form_with model: [@reply] do |form| %>
    <%= form.hidden_field :replied_to_id, value: @reply.replied_to_id%>
    <%= form.text_area :body, class: "tweet_input", placeholder: "Tweet your reply" %>
    <%= form.submit value: "Tweet", class: "btn" %>
  <% end %>
<% end %>
<ul>
  <% @tweet.replies.each do |reply| %>
    <li class="">
      <%= link_to tweet_path(reply) do %>
        <%= reply.body %>
      <% end %>
        <%= reply.user.name %>
        <span>@<%= reply.user.username %></span>
        <span><%= reply.replies.size %></span>
        <% if current_user %>  
          <div class=''>
            <span><%= link_to edit_tweet_path(reply) do%><%= image_tag('update.png') %><% end %></span>
            <span><%= link_to tweet_path(reply), method: :delete, data: { confirm: "Are you sure you want to delete this tweet?" } do %> <%= image_tag('delete.png')%><% end %> </span>
          </div>
        <% end %>
        <% if current_user %>
          <% pre_like = reply.likes.find { |like| like.user_id == current_user.id} %>
        <% end %>
        <% if pre_like %>
          <%= button_to tweet_like_path(reply, pre_like), method: :delete do %>
            <%= image_tag 'like.svg' %>
          <% end %>
        <% else %>
          <%= button_to tweet_likes_path(reply), method: :post do %>
            <%= image_tag 'like.svg' %>
          <% end %>
        <% end %>
        <p><%= reply.likes.count %> </p>
    </li>
>>>>>>> main
  <% end %>
    <% @tweet.replies.reverse.each do |reply| %>

      <div class="tweet__container">
        <div class="tweet__image">
          <%= image_tag 'default.png', class:'image__circle image__small' %>
        </div>
        <div class="tweet__content">
          <div class="tweet__head">
            <div class="typo__medium typo__bold color-main"><%= reply.user.name %></div>
            <div class="typo__medium typo__regular color-alter">@<%= reply.user.username %></div>
            <div class="typo__small typo__regular color-alter"><%= reply.user.created_at %></div>
          </div>
          <p><%= reply.body %></p>
          <div class="tweet__icons">
            <div class="tweet__icons-right">
              <%= image_tag 'retweet.svg' %>
              <span><%= reply.replies.size %></span>
              <%= image_tag 'like.svg' %>
            </div>
          <% if current_user %>
            <div class="tweet__icons-left">
              <span><%= link_to edit_tweet_path(reply) do%><%= image_tag('update.png') %><% end %></span>
              <span><%= link_to tweet_path(reply), method: :delete, data: { confirm: "Are you sure you want to delete this tweet?" } do %> <%= image_tag('delete.png')%><% end %> </span>
            </div>
          <% end %>
          </div>
          </div>
      </div>
    <% end %>
</div>